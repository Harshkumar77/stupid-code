<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="Death note">
    <title>Redirecting...</title>
    <script src="utils.js"></script>
    <script>
        // Common base URL for the episodes
        const baseURL = "https://animekai.to/watch/";

        const season_urls = [
            "SEASON ZERO INVALID",
            "death-note-616q#ep=",
        ];

        window.onload = function () {
            const urlStack = new URLStack()

            if (urlStack.empty()) {
                const SEASONS = 1
                const EPISODES = 36

                const epis = populatedEpisodes(SEASONS, EPISODES)
                epis
                    .shuffle()
                    .forEach(_ => urlStack.softPush([_[0], _[1]]))
                urlStack.save()
            }

            const [season, episode] = urlStack.pop()
            const redirectURL = (baseURL + season_urls[season] + episode);
            redirect(redirectURL, season, episode)
        };

    </script>
</head>

<body>
    <p id="msg">Redirecting...</p>
</body>

</html>