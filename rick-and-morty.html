<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh">
    <title>Redirecting...</title>
    <script src="utils.js"></script>
    <script>
        window.onload = function () {
            const urlStack = new URLStack()

            if (urlStack.empty()) {
                const SEASONS = 8
                const EPISODES = 10

                const epis = populatedEpisodes(SEASONS, EPISODES)
                epis.push(["1", "11"])
                epis
                    .shuffle()
                    .forEach(_ => urlStack.softPush(_))
                urlStack.save()
            }

            const [season, episode] = urlStack.pop()
            const redirectURL = `https://nepu.to/show/rick-and-morty-2013-2013-232890/season/${season}/episode/${episode}`
            console.log(redirectURL);
            document.getElementById("msg").innerText = redirectURL;
            window.location.href = redirectURL;
        };
    </script>

</head>

<body>
    <p id="msg">Redirecting...</p>
</body>

</html>